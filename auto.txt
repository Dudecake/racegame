Texture2D vehicle;
Texture2D tire;
Vector2 position;
Vector2 frontTire, backTire;
float direction;
float speed;
float angle;
float wheelBase = 32;


KeyboardState kbstate = Keyboard.GetState();
if (kbstate.IsKeyDown(Keys.Up))
    speed += 10;
else if (kbstate.IsKeyDown(Keys.Down))
    speed -= 100;
if (kbstate.IsKeyDown(Keys.Left))
    angle -= 0.03f;
else if (kbstate.IsKeyDown(Keys.Right))
    angle += 0.03f;

if (speed < 0)
    speed = 0;
if (speed > 300)
    speed = 300;

frontTire = position + wheelBase / 2 * new Vector2((float)Math.Cos(direction), (float)Math.Sin(direction));
backTire = position - wheelBase / 2 * new Vector2((float)Math.Cos(direction), (float)Math.Sin(direction));

backTire += speed * elapsed * new Vector2((float)Math.Cos(direction), (float)Math.Sin(direction));
frontTire += speed * elapsed * new Vector2((float)Math.Cos(direction + angle), (float)Math.Sin(direction + angle));

position = (frontTire + backTire) / 2;
direction = (float)Math.Atan2(frontTire.Y - backTire.Y, frontTire.X - backTire.X);